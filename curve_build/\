from scipy.interpolate import CubicSpline, splev, splrep
from scipy import interpolate
import numpy
import matplotlib.pyplot as plt
import csv
import sys

# Change the list of target searches
sys.path.insert(0, '/home/imasada/code/custom_curves/')

# Import the Position Vector class
from Point import Point

# Read in data
with open('data/profiles.txt', 'r') as f:
    raw_data = f.read().split('\n\n')

    span_0 = [(float(point.strip().split()[1]), float(point.strip().split()[2])) for point in raw_data[0].splitlines()]
    #span_0 = sorted(span_0, key=lambda point: point.x_coord)
    span0_x = int(float(raw_data[0].splitlines()[0].split()[0]))
    z0 = [point[0] for point in span_0]
    y0 = [point[1] for point in span_0]
    '''
    leading_0 = sorted([Point(float(point.strip().split()[1]), float(point.strip().split()[2])) for point in raw_data[0].split("TE")[0].splitlines()], key=lambda point: point.x_coord)
    leading_z0 = [point.x_coord for point in leading_0]
    leading_y0 = [point.y_coord for point in leading_0]
    '''

parameter = numpy.linspace(0, 1, len(z0))
airfoil_0 = CubicSpline(parameter, span_0)
z_values = numpy.arange(min(z0), max(z0))
y_values = [point[1] for point in airfoil_0(z0)]
print(z_values.shape)
'''
plt.plot(z_values, y_values)
plt.show()
'''
